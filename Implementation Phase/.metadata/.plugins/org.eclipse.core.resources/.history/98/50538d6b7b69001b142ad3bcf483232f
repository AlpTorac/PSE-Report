package gelf.view.diagrams.data;

import java.util.ArrayList;
import java.util.Collection;

public class DiagramData {
	private Collection<?> data;
	private DiagramDataExtractionStrategy extractor;
	
	public DiagramData(Collection<?> data) {
		this.data = data;
		this.setExtractor();
	}
	
	private void setExtractor() {
		switch(this.data.size()) {
		
		// only value
		case 1:
			this.extractor = new SingleValueExtractor();
		break;
		
		// value + index
		case 2:
			this.extractor = new SingleValueSingleIndexExtractor();
		break;
		
		// value + 2 indices
		case 3:
			this.extractor = new SingleValueDoubleIndexExtractor();
		break;
		}
	}
	
	public ArrayList<float[]> extractValues() {
		return this.extractor.extractValues(this.data);
	}
	
	public ArrayList<float[]> extractIndices() {
		return this.extractor.extractIndices(this.data);
	}
}
